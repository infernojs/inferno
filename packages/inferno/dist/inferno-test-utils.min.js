!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("inferno")):"function"==typeof define&&define.amd?define(["inferno"],r):e.InfernoTestUtils=r(e.Inferno)}(this,function(e){"use strict";function r(e){return e.tree.test.create(e,1)}function t(e){return e.tree.test.create(e,99)}function n(e){var r=e.key,t=e.tree.dom;if(null===r)t.pool.push(e);else{var n=t.keyedPool;(n[r]||(n[r]=[])).push(e)}}function o(){return m}function i(e,r){var t=e.rootNode;return p(t)||!t.nodeType?null:void(t===r?r.innerHTML="":(r.removeChild(e.rootNode),y&&n(e)))}function u(e,r){if(r){if(1===r.nodeType&&r.hasAttribute("data-inferno"))return!0;e.innerHTML=""}}function s(){var e={treeSuccessListeners:[],addTreeSuccessListener:function(r){e.treeSuccessListeners.push(r)},removeTreeSuccessListener:function(r){for(var t=0;t<e.treeSuccessListeners.length;t++){var n=e.treeSuccessListeners[t];if(n===r)return void e.treeSuccessListeners.splice(t,1)}},reset:function(){e.treeSuccessListeners=[]},trigger:function(){if(e.treeSuccessListeners.length>0)for(var r=0;r<e.treeSuccessListeners.length;r++)e.treeSuccessListeners[r]()}};return e}function f(e,r){var t=void 0,n={},o=s();return{parentNode:e,render:function(i){if(i){var s=i.tree&&i.tree.dom;if(s){var f=document.activeElement;if(t){if(s.update(t,i,o,n),!i.rootNode)return void(t=null)}else if(s){var c=e.firstChild;if(u(e,c))s.hydrate(c,i,o,n);else{var d=s.create(i,o,n);if(!d)return;r?e.insertBefore(d,r):e&&e.appendChild(d)}}o.trigger(),t=i,f!==document.body&&document.activeElement!==f&&f.focus()}}},remove:function(){if(t){var r=t.tree.dom;t&&r.remove(t,o),t.rootNode.parentNode&&i(t,e)}o.treeSuccessListeners=[]}}}function c(e){var r=h.length;if(0===r)return null;for(var t=0;r>t;t++){var n=h[t];if(n.parentNode===e)return n}return null}function d(e){for(var r=0;r<h.length;r++)if(h[r]===e)return h.splice(r,1),!0;return!1}function a(e,r){var t=c(r);if(p(t)){var n=f(r);n.render(e),h.push(n)}else p(e)?(t.remove(),d(t)):t.render(e)}function l(e){var r=document.createElement("div");return a(e,r),r.firstChild}e="default"in e?e["default"]:e;var v={};v["typeof"]="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};var p=function(e){return null===e||void 0===e},m=!0,y=o(),h=[];if(e){if("function"!=typeof e.addTreeConstructor)throw"Your package is out-of-date! Upgrade to latest Inferno in order to use the InfernoDOM package.";e.addTreeConstructor("test",createDOMTree)}var S={shallowRender:r,deepRender:t,renderIntoDocument:l};return S});