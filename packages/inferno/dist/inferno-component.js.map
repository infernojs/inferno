{"version":3,"file":"inferno-component.js","sources":["../../../src/component/updateComponent.js","../../../src/util/noop.js","../../../src/util/ExecutionEnvironment.js","../../../src/util/requestAnimationFrame.js","../../../src/component/applyState.js","../../../src/component/queueStateChanges.js","../../../src/component/Component.js","../../inferno-component/src/index.js"],"sourcesContent":["export default function updateComponent(component, prevState, nextState, prevProps, nextProps, renderCallback) {\n\tif (!nextProps.children) {\n\t\tnextProps.children = prevProps.children;\n\t}\n\tif (prevProps !== nextProps || prevState !== nextState) {\n\t\tif (prevProps !== nextProps) {\n\t\t\tcomponent._blockRender = true;\n\t\t\tcomponent.componentWillReceiveProps(nextProps);\n\t\t\tcomponent._blockRender = false;\n\t\t}\n\t\tconst shouldUpdate = component.shouldComponentUpdate(nextProps, nextState);\n\n\t\tif (shouldUpdate) {\n\t\t\tcomponent._blockSetState = true;\n\t\t\tcomponent.componentWillUpdate(nextProps, nextState);\n\t\t\tcomponent._blockSetState = false;\n\t\t\tcomponent.props = nextProps;\n\t\t\tcomponent.state = nextState;\n\t\t\tconst newDomNode = renderCallback();\n\n\t\t\tcomponent.componentDidUpdate(prevProps, prevState);\n\t\t\treturn newDomNode;\n\t\t}\n\t}\n}\n","export default () => {};","const canUseDOM = !!(\n\ttypeof window !== 'undefined' &&\n\t// Nwjs doesn't add document as a global in their node context, but does have it on window.document,\n\t// As a workaround, check if document is undefined\n\ttypeof document !== 'undefined' &&\n\twindow.document.createElement\n);\n\nexport default {\n\tcanUseDOM: canUseDOM,\n\tcanUseWorkers: typeof Worker !== 'undefined',\n\tcanUseEventListeners: canUseDOM && !!( window.addEventListener ),\n\tcanUseViewport: canUseDOM && !!window.screen,\n\tcanUseSymbol: typeof Symbol === 'function' && typeof Symbol['for'] === 'function'\n};\n","import ExecutionEnvironment from './ExecutionEnvironment';\nimport noop from './noop';\n\n// Server side workaround\nlet requestAnimationFrame = noop;\nlet cancelAnimationFrame = noop;\n\nif ( ExecutionEnvironment.canUseDOM ) {\n\n\tlet lastTime = 0;\n\n\tconst nativeRequestAnimationFrame =\n\t\twindow.requestAnimationFrame ||\n\t\twindow.webkitRequestAnimationFrame ||\n\t\twindow.mozRequestAnimationFrame;\n\n\tconst nativeCancelAnimationFrame =\n\t\twindow.cancelAnimationFrame ||\n\t\twindow.webkitCancelAnimationFrame ||\n\t\twindow.webkitCancelRequestAnimationFrame ||\n\t\twindow.mozCancelAnimationFrame;\n\n\trequestAnimationFrame =\n\t\tnativeRequestAnimationFrame ||\n\t\tfunction ( callback ) {\n\t\t\tconst currTime = Date.now();\n\t\t\tconst timeDelay = Math.max( 0, 16 - ( currTime - lastTime ) ); // 1000 / 60 = 16.666\n\n\t\t\tlastTime = currTime + timeDelay;\n\t\t\treturn window.setTimeout( function () {\n\t\t\t\tcallback( Date.now() );\n\t\t\t}, timeDelay );\n\t\t};\n\n\tcancelAnimationFrame =\n\t\tnativeCancelAnimationFrame ||\n\t\tfunction ( frameId ) {\n\t\t\twindow.clearTimeout( frameId );\n\t\t};\n}\n\nexport {\n\trequestAnimationFrame,\n\tcancelAnimationFrame\n};\n","import updateComponent from './updateComponent';\nimport { requestAnimationFrame } from './../util/requestAnimationFrame';\nimport ExecutionEnvironment from '../util/ExecutionEnvironment';\n\nfunction applyState(component) {\n\tconst blockRender = component._blockRender;\n\n\trequestAnimationFrame(() => {\n\t\tif (component._deferSetState === false) {\n\t\t\tlet activeNode;\n\n\t\t\tif (ExecutionEnvironment.canUseDOM) {\n\t\t\t\tactiveNode = document.activeElement;\n\t\t\t}\n\n\t\t\tcomponent._pendingSetState = false;\n\t\t\tconst pendingState = component._pendingState;\n\t\t\tconst oldState = component.state;\n\t\t\tconst nextState = {\n\t\t\t\t...oldState,\n\t\t\t\t...pendingState\n\t\t\t};\n\n\t\t\tcomponent._pendingState = {};\n\t\t\tcomponent._pendingSetState = false;\n\t\t\tupdateComponent(component, oldState, nextState, component.props, component.props, component.forceUpdate, blockRender);\n\n\t\t\tif (ExecutionEnvironment.canUseDOM &&\n\t\t\t\tactiveNode !== document.body &&\n\t\t\t\tdocument.activeElement !== activeNode) {\n\t\t\t\tactiveNode.focus();\n\t\t\t}\n\t\t} else {\n\t\t\tapplyState(component);\n\t\t}\n\t});\n}\n\nexport default applyState;\n","import applyState from './applyState';\n\nexport default function queueStateChanges(component, newState) {\n\tfor (let stateKey in newState) {\n\t\tcomponent._pendingState[stateKey] = newState[stateKey];\n\t}\n\tif (component._pendingSetState === false) {\n\t\tcomponent._pendingSetState = true;\n\t\tapplyState(component);\n\t}\n}\n","import queueStateChanges from './queueStateChanges';\n\n/** Base Component class, for he ES6 Class method of creating Components\n *\t@public\n *\n *\t@example\n *\tclass MyFoo extends Component {\n *\t\trender(props, state) {\n *\t\t\treturn <div />;\n *\t\t}\n *\t}\n */\nclass Component {\n\tconstructor(props) {\n\t\t/** @type {object} */\n\t\tthis.props = props || {};\n\t\tthis._blockRender = false;\n\t\tthis._blockSetState = false;\n\t\tthis._deferSetState = false;\n\t\tthis._pendingSetState = false;\n\t\tthis._pendingState = {};\n\t\tthis._lastRender = null;\n\t\t/** @type {object} */\n\t\t\tthis.state = {};\n\t\tthis.context = {};\n\t}\n\trender() {}\n\tforceUpdate() {}\n\tsetState(newState/* , callback */) {\n\t\t// TODO the callback\n\t\tif (this._blockSetState === false) {\n\t\t\tqueueStateChanges(this, newState);\n\t\t} else {\n\t\t\tthrow Error('Inferno Error: Cannot update state via setState() in componentWillUpdate()');\n\t\t}\n\t}\n\tcomponentDidMount() {}\n\tcomponentWillMount() {}\n\tcomponentWillUnmount() {}\n\tcomponentDidUpdate() {}\n\tshouldComponentUpdate() { return true; }\n\tcomponentWillReceiveProps() {}\n\tcomponentWillUpdate() {}\n\tgetChildContext() {}\n}\n\nexport default Component;\n","import Component from '../../../src/component/Component';\nimport updateComponent from '../../../src/component/updateComponent';\n\nexport default {\n\tComponent,\n\tupdateComponent\n};\n"],"names":[],"mappings":"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"}