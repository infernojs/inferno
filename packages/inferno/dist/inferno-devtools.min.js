!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(require("./inferno"),require("./inferno-component")):"function"==typeof define&&define.amd?define(["inferno","inferno-component"],e):e(n.Inferno,n.Inferno.Component)}(this,function(n,e){"use strict";function o(n){return!c(n.prototype)&&!c(n.prototype.render)}function t(n){return u(n)||i(n)}function r(n){return f(n)||n===!1||p(n)||c(n)}function u(n){return"string"==typeof n}function i(n){return"number"==typeof n}function f(n){return null===n}function p(n){return n===!0}function c(n){return void 0===n}function a(n){return"object"==typeof n}function d(e,o){if(e){if(e.dom===o)return e;var t=e.flags,r=e.children;if(28&t&&(r=r._lastInput||r),r)if(E(r))for(var u=0;u<r.length;u++){var i=r[u];if(i){var f=d(i,o);if(f)return f}}else if(a(r)){var p=d(r,o);if(p)return p}}else for(var c=n.options.roots,s=0;s<c.length;s++){var l=c[s],m=d(l.input,o);if(m)return m}}function s(n){var e=n.flags;return 4&e?n.children:n.dom}function l(n){var e=s(n);return R.get(e)}function m(n,e){var o=s(n);R.set(o,e)}function v(n){var e=s(n);R.delete(e)}function _(){var n={getNodeFromInstance:function(n){return n.node},getClosestInstanceFromNode:function(n){var e=d(null,n);return e?C(e,null):null}},e={};D(e);var o={_instancesByReactRootID:e,_renderNewRootComponent:function(n){}},t={mountComponent:function(n){},performUpdateIfNecessary:function(n){},receiveComponent:function(n){},unmountComponent:function(n){}},r=function(n){var r=C(n,null);y(n)&&(r._rootID=O(e),e[r._rootID]=r,o._renderNewRootComponent(r)),b(r,function(n){n&&(n._inDevTools=!0,t.mountComponent(n))}),t.mountComponent(r)},u=function(n){var e=[];b(l(n),function(n){e.push(n)});var o=C(n,null);t.receiveComponent(o),b(o,function(n){n._inDevTools?t.receiveComponent(n):(n._inDevTools=!0,t.mountComponent(n))}),e.forEach(function(n){document.body.contains(n.node)||(v(n.vNode),t.unmountComponent(n))})},i=function(n){var o=C(n,null);b(function(n){v(n.vNode),t.unmountComponent(n)}),t.unmountComponent(o),v(n),o._rootID&&delete e[o._rootID]};return{componentAdded:r,componentUpdated:u,componentRemoved:i,ComponentTree:n,Mount:o,Reconciler:t}}function y(e){for(var o=0;o<n.options.roots.length;o++){var t=n.options.roots[o];if(t.input===e)return!0}}function C(n,e){if(!n)return null;var o,t=n.flags;o=28&t?N(n,e):g(n,e);var r=l(n);return r?(Object.assign(r,o),r):(m(n,o),o)}function g(n,e){var o=n.flags,u=n.type,i=n.children,f=n.props,p=n.dom,c=1&o||t(n);return{_currentElement:c?i||n:{type:u,props:f},_renderedChildren:!c&&(E(i)?i.filter(function(n){return r(n)}).map(function(n){return C(n,p)}):r(i)?[]:[C(i,p)]),_stringText:c?i||n:null,_inDevTools:!1,node:p||e,vNode:n}}function h(n){if(n&&"."===n[0])return null}function N(n,e){var o=n.type,t=n.children,r=t._lastInput||t,u=n.dom;return{getName:function(){return I(o)},_currentElement:{type:o,key:h(n.key),ref:null,props:n.props},props:t.props,state:t.state,forceUpdate:t.forceUpdate.bind(t),setState:t.setState.bind(t),node:u,_instance:t,_renderedComponent:C(r,u),vNode:n}}function O(n){return"."+Object.keys(n).length}function b(n,e){n._renderedComponent?n._renderedComponent._component||(e(n._renderedComponent),b(n._renderedComponent,e)):n._renderedChildren&&n._renderedChildren.forEach(function(n){n&&(e(n),n._component||b(n,e))})}function I(n){return"function"==typeof n?n.displayName||n.name:n}function D(e){n.options.roots.forEach(function(n){e[O(e)]=C(n.input,null)})}function U(n){var o=n.type,t=n.type.name||"(Function.name missing)",r=w;if(!r.has(o)){var u=function(n){function e(){n.apply(this,arguments)}return n&&(e.__proto__=n),e.prototype=Object.create(n&&n.prototype),e.prototype.constructor=e,e.prototype.render=function(n,e,t){return o(n,t)},e}(e);u.displayName=t,r.set(o,u)}n.type=r.get(o),n.ref=null,n.flags=4}function T(){if("undefined"!=typeof window.__REACT_DEVTOOLS_GLOBAL_HOOK__){var e=n.options.createVNode;n.options.createVNode=function(n){var t=n.flags;if(28&t&&!o(n.type)&&U(n),e)return e(n)};var t=_(),r=n.options.afterMount;n.options.afterMount=function(n){t.componentAdded(n),r&&r(n)};var u=n.options.afterUpdate;n.options.afterUpdate=function(n){t.componentUpdated(n),u&&u(n)};var i=n.options.beforeUnmount;return n.options.beforeUnmount=function(n){t.componentRemoved(n),i&&i(n)},window.__REACT_DEVTOOLS_GLOBAL_HOOK__.inject(t),function(){n.options.afterMount=r,n.options.afterUpdate=u,n.options.beforeUnmount=i}}}e="default"in e?e.default:e;var E=Array.isArray,R=new Map,w=new Map;T()});
