!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("inferno-component"),require("mobx"),require("inferno-create-class"),require("inferno-create-element")):"function"==typeof define&&define.amd?define(["exports","inferno-component","mobx","inferno-create-class","inferno-create-element"],t):t((e.Inferno=e.Inferno||{},e.Inferno.Mobx=e.Inferno.Mobx||{}),e.Inferno.Component,e.mobx,e.Inferno.createClass,e.Inferno.createElement)}(this,function(e,t,n,r,o){"use strict";function i(e){throw e||(e=d),new Error("Inferno Error: "+e)}function s(e){var t=e._vNode.dom;t&&b&&b.set(t,e),x.emit({event:"render",renderTime:e.__$mobRenderEnd-e.__$mobRenderStart,totalTime:Date.now()-e.__$mobRenderStart,component:e,node:t})}function p(){"undefined"==typeof WeakMap&&i("[inferno-mobx] tracking components is not supported in this browser."),v||(v=!0)}function c(e){var r=e.prototype||e,o=r.componentDidMount,i=r.componentWillMount,p=r.componentWillUnmount;return r.componentWillMount=function(){var e=this;i&&i.call(this);var r,o=!1,s=this.displayName||this.name||this.constructor&&(this.constructor.displayName||this.constructor.name)||"<component>",p=this.render.bind(this),c=function(i,p){return r=new n.Reaction(s+".render()",function(){if(!o&&(o=!0,e.__$mobxIsUnmounted!==!0)){var n=!0;try{t.prototype.forceUpdate.call(e),n=!1}finally{n&&r.dispose()}}}),a.$mobx=r,e.render=a,a(i,p)},a=function(t,i){o=!1;var s=void 0;return r.track(function(){v&&(e.__$mobRenderStart=Date.now()),s=n.extras.allowStateChanges(!1,p.bind(e,t,i)),v&&(e.__$mobRenderEnd=Date.now())}),s};this.render=c},r.componentDidMount=function(){v&&s(this),o&&o.call(this)},r.componentWillUnmount=function(){if(p&&p.call(this),this.render.$mobx&&this.render.$mobx.dispose(),this.__$mobxIsUnmounted=!0,v){var e=this._vNode.dom;e&&b&&b.delete(e),x.emit({event:"destroy",component:this,node:e})}},r.shouldComponentUpdate=function(e,t){var r=this;if(this.state!==t)return!0;var o=Object.keys(this.props);if(o.length!==Object.keys(e).length)return!0;for(var i=o.length-1;i>=0;i--){var s=o[i],p=e[s];if(p!==r.props[s])return!0;if(p&&"object"==typeof p&&!n.isObservable(p))return!0}return!0},e}function a(e,t){return t={exports:{}},e(t,t.exports),t.exports}function f(e,t){var n=r({displayName:t.name,render:function(){var n=this,r={};for(var i in n.props)n.props.hasOwnProperty(i)&&(r[i]=n.props[i]);var s=e(this.context.mobxStores||{},r,this.context)||{};for(var p in s)r[p]=s[p];return r.ref=function(e){n.wrappedInstance=e},o(t,r)}});return n.contextTypes={mobxStores:function(){}},_(n,t),n}function u(e){var t=arguments;if("function"!=typeof e){for(var n=[],r=0;r<arguments.length;r++)n[r]=t[r];e=g(n)}return function(t){return f(e,t)}}function l(e,n){if(void 0===n&&(n=null),"string"==typeof e&&i("Store names should be provided as array"),Array.isArray(e))return n?u.apply(null,e)(l(n)):function(t){return l(e,t)};var o=e;if(!("function"!=typeof o||o.prototype&&o.prototype.render||o.isReactClass||t.isPrototypeOf(o))){var s=r({displayName:o.displayName||o.name,propTypes:o.propTypes,contextTypes:o.contextTypes,getDefaultProps:function(){return o.defaultProps},render:function(){return o.call(this,this.props,this.context)}});return l(s)}return o||i('Please pass a valid component to "connect"'),o.isMobXReactObserver=!0,c(o)}t="default"in t?t.default:t,r="default"in r?r.default:r,o="default"in o?o.default:o;var d="a runtime error occured! Use Inferno in development environment to find the error.",m={children:!0,key:!0,ref:!0},y=function(e){function t(t,n){e.call(this,t,n),this.contextTypes={mobxStores:function(){}},this.childContextTypes={mobxStores:function(){}},this.store=t.store}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.render=function(){return this.props.children},t.prototype.getChildContext=function(){var e=this,t={},n=this.context.mobxStores;if(n)for(var r in n)t[r]=n[r];for(var o in e.props)m[o]||(t[o]=e.props[o]);return{mobxStores:t}},t}(t),h=function(){this.listeners=[]};h.prototype.on=function(e){var t=this;return this.listeners.push(e),function(){var n=t.listeners.indexOf(e);n!==-1&&t.listeners.splice(n,1)}},h.prototype.emit=function(e){this.listeners.forEach(function(t){return t(e)})},h.prototype.getTotalListeners=function(){return this.listeners.length},h.prototype.clearListeners=function(){this.listeners=[]};var v=!1,b=new WeakMap,x=new h,_=a(function(e){function t(e,t,i){if("string"!=typeof t){var s=Object.getOwnPropertyNames(t);o&&(s=s.concat(Object.getOwnPropertySymbols(t)));for(var p=0;p<s.length;++p)if(!(n[s[p]]||r[s[p]]||i&&i[s[p]]))try{e[s[p]]=t[s[p]]}catch(e){}}return e}var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},o="function"==typeof Object.getOwnPropertySymbols;e.exports=t,e.exports.default=e.exports}),g=function(e){return function(t,n){return e.forEach(function(e){if(!(e in n)){if(!(e in t))throw new Error('MobX observer: Store "'+e+'" is not available! Make sure it is provided by some Provider');n[e]=t[e]}}),n}},w={Provider:y,inject:u,connect:l,observer:l,trackComponents:p,renderReporter:x,componentByNodeRegistery:b};e.default=w,e.EventEmitter=h,e.Provider=y,e.inject=u,e.connect=l,e.observer=l,e.trackComponents=p,e.renderReporter=x,e.componentByNodeRegistery=b,Object.defineProperty(e,"__esModule",{value:!0})});
