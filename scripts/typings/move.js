const rimraf = require('rimraf');
const fs = require('fs-extra');
const join = require('path').join;
const cwd = process.cwd();
const pkgJSON = require(join(cwd, 'package.json'));
const mergedirs = require('merge-dirs').default;

if (pkgJSON.private) {
  return;
}
// Move type declaration files generated by TSC to dist folder
mergedirs(join(cwd, 'dist/packages/', pkgJSON.name, 'src'), join(cwd, 'dist'), 'overwrite');
rimraf.sync(join(cwd, 'dist/packages/'));
